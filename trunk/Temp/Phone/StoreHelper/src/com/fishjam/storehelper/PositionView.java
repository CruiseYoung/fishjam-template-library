package com.fishjam.storehelper;

import com.fishjam.util.AStar;

import android.content.Context;
import android.content.res.Resources;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.drawable.Drawable;
import android.widget.ImageView;

public class PositionView extends ImageView {
	Paint mPaint = new Paint();
	int    mCurFloor = -1;
	AStar mAStar;
	
	//StoreInformation	mStoreInformation;
	
	int [] FloorNumber = {
			R.raw.floor_1,
			R.raw.floor_2
	};
	
	public PositionView(Context context) {
		super(context);
		setAdjustViewBounds(true);
	}

	public int[][] mMap = {
			{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,913,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,913,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,597,597,597,597,597,597,597,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,597,597,597,597,597,597,597,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,597,597,597,597,597,597,597,539,539,539,539,325,1560,1560,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,597,597,597,597,597,597,597,539,539,539,539,325,1560,1560,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1257,1608,1071,1071,1071,1071,1071,1205,1205,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1,1,1,1,1,1,1,1,1257,1608,1071,1071,1071,1071,1071,1205,1205,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1187,1187,1187,1187,1187,1257,1257,1257,1257,1608,1071,1071,1071,1071,1071,1205,1205,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,325,980,980,980,980,980,980,980,539,539,539,539,325,325,325,325,325,1187,1187,1187,1187,1187,1257,1257,1257,1257,1608,1071,1071,1071,1071,1071,1205,1205,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,1187,1187,1187,1187,1187,1257,1257,1257,1257,1608,1071,1071,1071,1071,1071,1205,1205,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,1205,1205,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1205,1205,1205,1205,1205,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1804,1804,1804,1804,1804,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1804,1804,1804,1804,1804,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1804,1804,1804,1804,1804,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,0,0,0,0,0,0,0,0,0,0,0,0,0,0,325,1907,1907,1907,1907,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,0,0,0,0,0,0,0,0,0,0,0,0,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,913,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,325,2467,2467,2467,2467,2467,2467,2467,2467,2418,2418,2418,2418,2418,2418,2418,2418,2418,2418,2418,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,2467,2467,2467,2418,2418,2418,2418,2418,2418,2418,2418,2418,2418,2418,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,325,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,2467,2467,2467,2418,2418,2418,2418,2418,2418,2418,2418,2418,2418,2418,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,913,325,325,325,325,325,325,325,325,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,2467,2467,2467,2418,2418,2418,2418,2418,2418,2418,2418,2418,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,2467,2467,2467,2418,2418,2418,2418,2418,2418,2418,2418,2418,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2456,2456,2456,2456,2456,325,325,325,325,325,2467,2467,2467,2467,2467,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2456,2456,2456,2456,2456,913,913,913,913,913,2467,2467,2467,2467,2467,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
			{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 }
	};

	
	
	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);
		StoreInformation storeInformation = StoreInformation.Instance();
		Point ptCurPos = storeInformation.mCurPositionInfo.ptPos;
		Point ptCarPos = storeInformation.mCarPositionInfo.ptPos;

		Resources resources = getResources();
		if (ptCurPos.x >= 0 && ptCurPos.y >= 0) {
			mPaint.setColor(resources.getColor(R.color.red));
			canvas.drawCircle(ptCurPos.x, ptCurPos.y, 10, mPaint);
		}
		if (ptCarPos.x >= 0 && ptCarPos.y >= 0) {
			mPaint.setColor(resources.getColor(R.color.grgray));
			canvas.drawCircle(ptCarPos.x, ptCarPos.y, 10, mPaint);
		}
	}

	public void setFloor(int iFloor) {
		if (mCurFloor != iFloor) {
			mCurFloor = iFloor;
			
			Resources resources = getResources();
			Drawable drawFloor =  resources.getDrawable(FloorNumber[mCurFloor]);
			setImageDrawable(drawFloor);
			postInvalidate();
		}
		
	}
	
}
